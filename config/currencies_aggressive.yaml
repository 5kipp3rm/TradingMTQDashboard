# AGGRESSIVE MULTI-POSITION TRADING CONFIGURATION
# Designed for maximum profit extraction during trending markets
# Allows multiple positions per currency to capture strong trends

global:
  # High frequency checking for quick entries
  interval_seconds: 15  # Check every 15 seconds for opportunities
  
  # AGGRESSIVE: Allow many concurrent positions
  max_concurrent_trades: 30  # Up from 15 - allow more positions
  
  # Portfolio risk management (still conservative to protect account)
  portfolio_risk_percent: 12.0  # 12% max portfolio risk (spread across 30 positions)
  
  # Per-trade risk should be lower when trading many positions
  default_risk_percent: 0.4  # 0.4% per trade (30 trades = 12% max)
  
  # Enable AI features for intelligent decisions
  enable_ml_enhancement: true
  enable_llm_sentiment: false  # Can enable if API configured
  enable_intelligent_position_manager: true
  
  # Profit targets
  portfolio_targets:
    daily_profit_target: 5.0  # 5% daily target
    close_all_on_target: false  # Keep trading even after hitting target
    stop_new_trades_on_target: false  # Continue opening positions
  
  # Emergency controls (still important)
  emergency_controls:
    daily_loss_limit_percent: 5.0
    max_drawdown_percent: 10.0
    enable_auto_recovery: true

# ============================================================================
# EURUSD - HIGH FREQUENCY SCALPING (VERY AGGRESSIVE)
# ============================================================================

EURUSD:
  enabled: true
  risk_percent: 0.5  # Slightly higher per trade
  timeframe: "M5"
  
  # AGGRESSIVE: Position-based strategy (allows multiple positions same direction)
  strategy: "position"
  fast_period: 5
  slow_period: 10
  
  # Position stacking enabled!
  allow_position_stacking: true
  max_positions_same_direction: 4  # Up to 4 positions in same direction
  max_total_positions: 5
  stacking_risk_multiplier: 1.2  # Increase risk by 20% for stacked positions
  
  # Tight stops for scalping
  sl_pips: 12
  tp_pips: 24  # 1:2 risk-reward
  
  # CRITICAL: Very short cooldown to allow rapid position stacking
  cooldown_seconds: 30  # Only 30 seconds between trades!
  
  # Trade nearly 24/7 during liquid hours
  trading_hours:
    start: "01:00"  # After Asian session starts
    end: "22:00"    # Cover London + NY
  
  # ML Enhancement - Lower threshold to get more signals
  enable_ml_enhancement: true
  ml_model_type: "ensemble"
  ml_confidence_threshold: 0.60  # Lower threshold = more trades
  ml_weight: 0.5  # Balance ML and technical
  
  # Position modifications
  modifications:
    enable_breakeven: true
    breakeven_trigger_pips: 12  # Move to BE at 1:1 immediately
    breakeven_offset_pips: 2
    
    enable_partial_close: true
    partial_close_trigger_pips: 18  # Take 50% at 1.5:1
    partial_close_percent: 50
    
    enable_trailing_stop: true
    trailing_stop_pips: 8
    trailing_activation_pips: 15
    
    enable_dynamic_tp: true
    dynamic_tp_extension_pips: 12

# ============================================================================
# USDJPY - HIGH FREQUENCY SCALPING
# ============================================================================

USDJPY:
  enabled: true
  risk_percent: 0.5
  timeframe: "M5"
  
  strategy: "position"
  fast_period: 5
  slow_period: 10
  
  # Position stacking
  allow_position_stacking: true
  max_positions_same_direction: 4
  max_total_positions: 5
  stacking_risk_multiplier: 1.2
  
  sl_pips: 15
  tp_pips: 30
  
  cooldown_seconds: 30  # Very short cooldown
  
  trading_hours:
    start: "00:00"  # Tokyo session
    end: "16:00"    # Through London
  
  enable_ml_enhancement: true
  ml_confidence_threshold: 0.60
  
  modifications:
    enable_breakeven: true
    breakeven_trigger_pips: 15
    
    enable_partial_close: true
    partial_close_trigger_pips: 22
    partial_close_percent: 50
    
    enable_trailing_stop: true
    trailing_stop_pips: 10
    trailing_activation_pips: 18

# ============================================================================
# GBPUSD - AGGRESSIVE DAY TRADING
# ============================================================================

GBPUSD:
  enabled: true
  risk_percent: 0.5
  timeframe: "M5"
  
  strategy: "position"
  fast_period: 5
  slow_period: 10
  
  # Position stacking
  allow_position_stacking: true
  max_positions_same_direction: 3  # Slightly less due to volatility
  max_total_positions: 4
  stacking_risk_multiplier: 1.2
  
  sl_pips: 15
  tp_pips: 30
  
  cooldown_seconds: 45  # Slightly longer due to volatility
  
  trading_hours:
    start: "08:00"  # London open
    end: "17:00"    # London/NY overlap
  
  enable_ml_enhancement: true
  ml_confidence_threshold: 0.62  # Slightly higher (GBP is volatile)
  
  modifications:
    enable_breakeven: true
    breakeven_trigger_pips: 15
    
    enable_partial_close: true
    partial_close_trigger_pips: 22
    partial_close_percent: 50
    
    enable_trailing_stop: true
    trailing_stop_pips: 10
    trailing_activation_pips: 18

# ============================================================================
# AUDUSD - AGGRESSIVE DAY TRADING
# ============================================================================

AUDUSD:
  enabled: true
  risk_percent: 0.4
  timeframe: "M5"
  
  strategy: "position"
  fast_period: 5
  slow_period: 10
  
  # Position stacking
  allow_position_stacking: true
  max_positions_same_direction: 4
  max_total_positions: 5
  stacking_risk_multiplier: 1.2
  
  sl_pips: 12
  tp_pips: 24
  
  cooldown_seconds: 30
  
  trading_hours:
    start: "00:00"  # Sydney/Tokyo sessions
    end: "10:00"    # Best AUD hours
  
  enable_ml_enhancement: true
  ml_confidence_threshold: 0.60
  
  modifications:
    enable_breakeven: true
    breakeven_trigger_pips: 12
    
    enable_partial_close: true
    partial_close_trigger_pips: 18
    partial_close_percent: 50
    
    enable_trailing_stop: true
    trailing_stop_pips: 8
    trailing_activation_pips: 15

# ============================================================================
# USDCHF - MEDIUM AGGRESSION
# ============================================================================

USDCHF:
  enabled: true
  risk_percent: 0.4
  timeframe: "M5"
  
  strategy: "position"
  fast_period: 5
  slow_period: 10
  
  # Position stacking
  allow_position_stacking: true
  max_positions_same_direction: 3
  max_total_positions: 4
  stacking_risk_multiplier: 1.2
  
  sl_pips: 12
  tp_pips: 24
  
  cooldown_seconds: 45
  
  trading_hours:
    start: "08:00"
    end: "17:00"
  
  enable_ml_enhancement: true
  ml_confidence_threshold: 0.62
  
  modifications:
    enable_breakeven: true
    breakeven_trigger_pips: 12
    enable_partial_close: true
    partial_close_trigger_pips: 18
    partial_close_percent: 50
    enable_trailing_stop: true
    trailing_stop_pips: 8

# ============================================================================
# NZDUSD - MEDIUM AGGRESSION  
# ============================================================================

NZDUSD:
  enabled: true
  risk_percent: 0.4
  timeframe: "M5"
  
  strategy: "position"
  fast_period: 5
  slow_period: 10
  
  # Position stacking
  allow_position_stacking: true
  max_positions_same_direction: 4
  max_total_positions: 5
  stacking_risk_multiplier: 1.2
  
  sl_pips: 12
  tp_pips: 24
  
  cooldown_seconds: 45
  
  trading_hours:
    start: "00:00"
    end: "10:00"
  
  enable_ml_enhancement: true
  ml_confidence_threshold: 0.60
  
  modifications:
    enable_breakeven: true
    breakeven_trigger_pips: 12
    enable_partial_close: true
    partial_close_trigger_pips: 18
    partial_close_percent: 50
    enable_trailing_stop: true
    trailing_stop_pips: 8

# ============================================================================
# ADVANCED FEATURES FOR MAXIMUM PROFIT
# ============================================================================

# Allow multiple positions in same direction (position stacking)
position_stacking:
  enabled: true
  max_positions_per_pair: 5  # Up to 5 positions per currency
  max_positions_same_direction: 4  # Up to 4 in same direction (BUY or SELL)
  scale_in_strategy: "pyramid"  # pyramid, averaging, or fixed
  
  # Pyramid strategy (increase size as trend continues)
  pyramid:
    enabled: true
    first_position_risk: 0.3  # First position: 0.3%
    second_position_risk: 0.4  # Second: 0.4%
    third_position_risk: 0.5  # Third: 0.5%
    max_position_risk: 0.6  # Fourth+: 0.6%

# Trend detection for aggressive entry
trend_detection:
  enabled: true
  min_adx: 20  # Lower threshold = more trades (was 25)
  use_multiple_timeframes: true
  higher_timeframe: "M15"  # Check M15 for overall trend
  allow_counter_trend: false  # Never trade against higher TF trend
  
  # When strong trend detected, be more aggressive
  strong_trend_multiplier: 1.5  # Increase risk by 50% in strong trends
  strong_trend_adx: 35

# Correlation management (prevent over-exposure)
correlation_management:
  enabled: true
  
  # Reduce risk when trading correlated pairs simultaneously
  correlations:
    - pairs: ["EURUSD", "GBPUSD"]
      correlation: 0.80
      risk_reduction: 0.3  # Reduce risk by 30% when both open
    
    - pairs: ["EURUSD", "USDCHF"]
      correlation: -0.85
      risk_reduction: 0.3
    
    - pairs: ["AUDUSD", "NZDUSD"]
      correlation: 0.90
      risk_reduction: 0.4  # High correlation = more reduction

# Dynamic risk adjustment based on performance
adaptive_risk:
  enabled: true
  
  # Increase risk after consecutive wins
  consecutive_wins:
    3: 1.2  # After 3 wins: 20% more risk
    5: 1.4  # After 5 wins: 40% more risk
    8: 1.6  # After 8 wins: 60% more risk
  
  # Decrease risk after consecutive losses
  consecutive_losses:
    2: 0.8  # After 2 losses: 20% less risk
    4: 0.6  # After 4 losses: 40% less risk
    6: 0.4  # After 6 losses: 60% less risk
  
  # Reset after opposite result
  reset_on_opposite: true

# Time-based filters (avoid low-probability times)
time_filters:
  avoid_times:
    - start: "22:00"
      end: "23:59"
      reason: "Low liquidity after NY close"
  
  # Best trading hours (be most aggressive here)
  best_times:
    - start: "08:00"
      end: "12:00"
      reason: "London session"
      risk_multiplier: 1.3  # 30% more risk during best hours
    
    - start: "13:00"
      end: "17:00"
      reason: "London/NY overlap"
      risk_multiplier: 1.5  # 50% more risk during overlap
  
  # Close before weekend
  friday_close:
    enabled: true
    close_time: "20:00"
    close_all_positions: true

# News trading (optional - can be very profitable but risky)
news_trading:
  enabled: false  # Disable for safety (enable at your own risk)
  close_before_news: true
  close_minutes_before: 5
  avoid_new_trades_minutes: 15

# Performance tracking
performance_tracking:
  enabled: true
  
  # Disable losing pairs automatically
  auto_disable_pairs: true
  min_trades_before_disable: 20
  min_win_rate: 0.50  # Disable if win rate falls below 50% after 20 trades
  
  # Disable losing sessions
  auto_disable_sessions: true
  session_min_trades: 15
  session_min_win_rate: 0.52

# ============================================================================
# EXPECTED PERFORMANCE (AGGRESSIVE SETUP)
# ============================================================================

# With this configuration, you can expect:
#
# - 20-40 trades per day (across all pairs)
# - 4-8 positions open simultaneously
# - 0.3-0.6% risk per position
# - 1:2 risk-reward ratio
# - 58-62% win rate with ML enhancement
#
# Conservative estimate (20 trades/day, 58% WR):
#   - Winning trades: 11.6 trades × +0.6% = +7.0% daily
#   - Losing trades: 8.4 trades × -0.3% = -2.5% daily
#   - Net daily profit: +4.5% (compounded)
#   - Weekly profit: +32% (compounded)
#   - Monthly profit: +200-300%
#
# Aggressive estimate (40 trades/day, 62% WR):
#   - Winning trades: 24.8 trades × +0.8% = +19.8% daily
#   - Losing trades: 15.2 trades × -0.4% = -6.1% daily
#   - Net daily profit: +13.7% (compounded)
#   - Weekly profit: +100-150%
#   - Monthly profit: +500-1000%
#
# IMPORTANT: These are theoretical maximums. Real-world results will vary.
# Start with lower risk and gradually increase as you build confidence.
#
# Risk of Ruin: With proper position management (BE, partial close, trailing),
# the risk of account blow-up is low even with aggressive parameters.
